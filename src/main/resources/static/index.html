<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Invoice Form</title>
    <style>
        table.form-table { border-collapse: collapse; margin-bottom: 20px; }
        table.form-table td { padding: 8px; vertical-align: top; }
        table.form-table label { display: block; font-weight: bold; margin-bottom: 4px; }
        table.form-table input { width: 180px; }
        #projectsTable input { width: 100%; }
        button { padding: 8px 16px; margin-top: 10px; }
    </style>
    <script>
        function addProjectRow() {
            const table = document.getElementById("projectsTable");
            const rowCount = table.rows.length - 1; // discount header
            const row = table.insertRow(-1);
            row.innerHTML = `
                <td><input type="text" name="projects[${rowCount}].name" placeholder="AB1234" required
                           oninvalid="this.setCustomValidity('Please enter the project code.')"
                           oninput="this.setCustomValidity('')"></td>
                <td><input type="text" name="projects[${rowCount}].description" placeholder="Description" required
                           oninvalid="this.setCustomValidity('Please enter the project description.')"
                           oninput="this.setCustomValidity('')"></td>
                <td><input type="number" step="0.25" min="0" name="projects[${rowCount}].hours" placeholder="10.50" required
                           oninvalid="this.setCustomValidity('Please enter the number of hours.')"
                           oninput="this.setCustomValidity('')"></td>
            `;
        }
    </script>
</head>
<body>
<h1>Alice Invoice Generator</h1>

<form action="/submit" method="post">
    <table class="form-table">
        <tr>
            <td><h3>Bill To:</h3></td>
            <td>
                <label for="contactName">Contact Name</label>
                <input type="text" id="contactName" name="contactName" placeholder="Jhon Doe" required
                       oninvalid="this.setCustomValidity('Please enter the contact name.')"
                       oninput="this.setCustomValidity('')">
            </td>
            <td>
                <label for="clientCompany">Client Company</label>
                <input type="text" id="clientCompany" name="clientCompany" placeholder="Acme Inc." required
                       oninvalid="this.setCustomValidity('Please enter the client company.')"
                       oninput="this.setCustomValidity('')">
            </td>
        </tr>

        <tr>
            <td></td>
            <td>
                <label for="addressLine1">Address Line 1</label>
                <input type="text" id="addressLine1" name="addressLine1" placeholder="123 Main St" required
                       oninvalid="this.setCustomValidity('Please enter Address Line 1.')"
                       oninput="this.setCustomValidity('')">
            </td>
            <td>
                <label for="addressLine2">Address Line 2 (Optional)</label>
                <input type="text" id="addressLine2" name="addressLine2" placeholder="Apt 4B, Building Name">
            </td>
            <td>
                <label for="town">Town</label>
                <input type="text" id="town" name="town" placeholder="Northstowe" required
                       oninvalid="this.setCustomValidity('Please enter the Town.')"
                       oninput="this.setCustomValidity('')">
            </td>
            <td>
                <label for="city">City</label>
                <input type="text" id="city" name="city" placeholder="Cambridge" required
                       oninvalid="this.setCustomValidity('Please enter the City.')"
                       oninput="this.setCustomValidity('')">
            </td>
            <td>
                <label for="postcode">Postcode</label>
                <input type="text" id="postcode" name="postcode" placeholder="CB9 1AF" required
                       oninvalid="this.setCustomValidity('Please enter the Postcode.')"
                       oninput="this.setCustomValidity('')">
            </td>
        </tr>
        <tr>
            <td></td>
            <td>
                <label for="phone">Phone</label>
                <input type="text" id="phone" name="phone" placeholder="1234567890">
            </td>
            <td>
                <label for="email">Email</label>
                <input type="email" id="email" name="email" placeholder="invoices@acme.com"
                       oninvalid="this.setCustomValidity('Please enter a valid email address.')"
                       oninput="this.setCustomValidity('')">
            </td>
        </tr>
        <tr>
            <td colspan="20"><hr></td>
        </tr>
        <tr>
            <td><h3>Invoice info:</h3></td>
            <td>
                <label for="invoiceNumber">Invoice Number</label>
                <input type="number" step="1" min="1" id="invoiceNumber" name="invoiceNumber" placeholder="1" required
                       oninvalid="this.setCustomValidity('Please enter the invoice number.')"
                       oninput="this.setCustomValidity('')">
            </td>
            <td>
                <label for="invoiceDate">Invoice Date</label>
                <input type="date" id="invoiceDate" name="invoiceDate" required
                       oninvalid="this.setCustomValidity('Please select the invoice date.')"
                       oninput="this.setCustomValidity('')">
            </td>
            <td>
                <label for="dueDate">Due Date</label>
                <input type="date" id="dueDate" name="dueDate" required
                       oninvalid="this.setCustomValidity('Please select the due date.')"
                       oninput="this.setCustomValidity('')">
            </td>
        </tr>
        <tr>
            <td></td>
            <td>
                <label for="startDate">Start Date</label>
                <input type="date" id="startDate" name="startDate" required
                       oninvalid="this.setCustomValidity('Please select the start date.')"
                       oninput="this.setCustomValidity('')">
            </td>
            <td>
                <label for="endDate">End Date</label>
                <input type="date" id="endDate" name="endDate" required
                       oninvalid="this.setCustomValidity('Please select the end date.')"
                       oninput="this.setCustomValidity('')">
            </td>
            <td>
                <label for="hourlyRate">Hourly Rate</label>
                <input type="number" step="5" min="0" id="hourlyRate" name="hourlyRate" placeholder="45" required
                       oninvalid="this.setCustomValidity('Please enter the hourly rate.')"
                       oninput="this.setCustomValidity('')">
            </td>
        </tr>
        <tr>
            <td colspan="20"><hr></td>
        </tr>
    </table>
    <h3>Projects</h3>
    <table border="1" id="projectsTable">
        <tr>
            <th>Project</th>
            <th>Description</th>
            <th>Hours</th>
        </tr>
        <tr>
            <td><input type="text" name="projects[0].name" placeholder="AB1234" required
                       oninvalid="this.setCustomValidity('Please enter the project code.')"
                       oninput="this.setCustomValidity('')"></td>
            <td><input type="text" name="projects[0].description" placeholder="Description" required
                       oninvalid="this.setCustomValidity('Please enter the project description.')"
                       oninput="this.setCustomValidity('')"></td>
            <td><input type="number" step="0.25" min="0" name="projects[0].hours" placeholder="10.50" required
                       oninvalid="this.setCustomValidity('Please enter the number of hours.')"
                       oninput="this.setCustomValidity('')"></td>
        </tr>
    </table>
    <button type="button" onclick="addProjectRow()">Add Project</button><br><br>

    <input type="submit" value="Submit Invoice">
</form>
</body>
</html>
